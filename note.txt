Integrating getRepaymentByUser controller

âœ… 10-Line Explanation:
This controller fetches all repayment records tied to a specific user ID.

It populates the linked loan details like amount, type, status, and repayment balance.

If no repayments are found for that user, it returns a 404 error.

It groups repayments by loan to calculate how much the user has paid per loan.

The totalPaid and repaymentBalance values are calculated for each loan.

All monetary values like amountPaid and balances are rounded to whole numbers.

The result is mapped into a user-friendly format with enhanced repayment details.

The loan and repayment status are included to help track repayment progress.

The logic supports both admins and users accessing their repayment history.

The final JSON response is structured and easy to integrate into a frontend dashboard.