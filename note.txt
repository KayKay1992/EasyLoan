Integrating getRepaymentById controller

âœ… What it does:
Finds a repayment by its ID from the database.

Populates user and loan information for enriched context.

Rounds amountPaid and repaymentBalance to whole numbers.

Returns clean, formatted repayment info if found.

Handles error if the repayment ID is invalid or not found.

explain in 10 lines
It fetches a specific repayment record based on the ID from the URL (req.params.id).

Uses populate() to include relevant user and loan details in the response.

If the repayment is not found, it returns a 404 error with a custom message.

Builds a structured response object with all important repayment data.

Includes user name, email, and phone, along with loan type, amount, and status.

Rounds amountPaid to avoid decimals in the response.

Only includes repaymentBalance if the loan is still active, and rounds it too.

Returns additional fields like payment method, due date, payment date, and status.

Helps both admins and users view individual repayment records in a clean format.

Ensures clarity, error handling, and consistent numeric formatting in the output.