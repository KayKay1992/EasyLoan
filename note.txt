Integrating the getTransactionByUser controller.

Here's a 10-line explanation of the getTransactionByUser controller:

The function retrieves all transactions made by a specific user based on their userId.

It extracts the userId from the route parameters (req.params.userId).

It first validates that the userId is a valid MongoDB ObjectId using a regex.

If the ID is invalid, it returns a 400 Bad Request with an error message.

It queries the database for all transactions linked to the given userId.

The query uses Transaction.find({ user: userId }).

Optionally, it can populate the loan field to include full loan info instead of just the ID.

If transactions are found, it returns them with a 200 OK response.

The response includes the total count and an array of transaction data.

This is useful for showing users or admins all the financial activity related to that user.