get all users function controller

explanation of the updated getUsers controller:

Find all users with the role "member", excluding their passwords for security.

For each user, fetch loan-related data using the Loan model.

Count the total number of loans the user has.

Count active loans (e.g., not yet repaid or still ongoing).

Count completed loans (e.g., fully repaid).

Combine the user info with their loan stats into a single object.

Return the full list of users, each enriched with their loan summary.

If any error occurs, return a 500 server error with the message.